[tool:pytest]
# Pytest configuration for move_record comprehensive tests

# Test discovery
testpaths = tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Output and reporting
addopts = 
    --verbose
    --tb=short
    --strict-markers
    --strict-config
    --color=yes
    --durations=10
    --disable-warnings

# Async support
asyncio_mode = auto

# Custom markers
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    performance: marks tests as performance tests
    integration: marks tests as integration tests
    concurrent: marks tests as concurrency tests
    error_handling: marks tests for error scenarios
    json_serialization: marks tests for JSON serialization
    missing_functionality: marks tests for missing features
    
# Minimum version requirements
minversion = 6.0

# Test timeout (in seconds)
timeout = 300

# Coverage settings (if pytest-cov is available)
# addopts = --cov=src/things_mcp --cov-report=html --cov-report=term-missing

# Log capture settings
log_auto_indent = true
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Filterwarnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    error::UserWarning

# Custom test collection order
collect_ignore = [
    "setup.py",
    "conftest/",
    "fixtures/",
]

# Performance test configuration
# These can be overridden with command line options
performance_test_timeout = 30
concurrent_test_max_workers = 10
large_dataset_size = 1000